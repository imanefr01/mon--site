<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Happy Bulle - Des cadeaux qui font r√™ver</title>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%);
        }

        .delivery-banner {
            background: linear-gradient(135deg, #ff69b4 0%, #ffc0cb 50%, #000 100%);
            color: white;
            padding: 1.2rem;
            text-align: center;
            font-weight: bold;
            font-size: 1.1rem;
        }

        .header {
            background: white;
            padding: 1.5rem 0;
            box-shadow: 0 4px 20px rgba(0,0,0,0.1);
            position: sticky;
            top: 0;
            z-index: 1000;
        }

        .header-content {
            max-width: 1200px;
            margin: 0 auto;
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 0 2rem;
            gap: 2rem;
            flex-wrap: wrap;
        }

        .logo {
            background: linear-gradient(135deg, #ffc0cb, #ff69b4);
            border-radius: 20px;
            padding: 1.2rem 2rem;
            box-shadow: 0 8px 25px rgba(255, 105, 180, 0.4);
        }

        .logo-text { 
            font-size: 1.8rem; 
            color: white; 
            font-weight: bold;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.2);
        }

        .nav {
            display: flex;
            gap: 1.5rem;
            flex-wrap: wrap;
        }

        .nav-item {
            color: #333;
            padding: 0.8rem 1.5rem;
            border-radius: 25px;
            cursor: pointer;
            transition: all 0.3s;
            font-weight: 500;
        }

        .nav-item:hover {
            background: linear-gradient(45deg, #ff69b4, #ffc0cb);
            color: white;
            transform: translateY(-3px);
            box-shadow: 0 5px 15px rgba(255, 105, 180, 0.3);
        }

        .cart-info {
            background: linear-gradient(45deg, #ff69b4, #ffc0cb);
            color: white;
            padding: 0.8rem 1.5rem;
            border-radius: 25px;
            font-weight: bold;
            box-shadow: 0 4px 15px rgba(255, 105, 180, 0.3);
        }

        .order-btn {
            margin-left: 1rem;
            background: #25D366;
            color: white;
            border: none;
            padding: 0.6rem 1.2rem;
            border-radius: 20px;
            cursor: pointer;
            font-weight: bold;
            transition: all 0.3s;
        }

        .order-btn:hover {
            background: #128C7E;
            transform: translateY(-2px);
        }

        .container {
            max-width: 1200px;
            margin: 2rem auto;
            padding: 0 2rem;
        }

        .hero {
            background: white;
            padding: 4rem 3rem;
            border-radius: 20px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
            text-align: center;
            margin-bottom: 3rem;
        }

        .hero h1 {
            font-size: 3rem;
            background: linear-gradient(45deg, #000, #ff69b4);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            margin-bottom: 1.5rem;
        }

        .hero-subtitle {
            font-size: 1.4rem;
            color: #ff69b4;
            font-weight: 600;
            margin-bottom: 1rem;
        }

        .hero-text {
            font-size: 1.1rem;
            line-height: 1.8;
            color: #666;
            max-width: 800px;
            margin: 0 auto;
        }

        .categories {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 2rem;
            margin-bottom: 3rem;
        }

        .category-card {
            background: white;
            border-radius: 15px;
            padding: 3rem 2rem;
            box-shadow: 0 8px 25px rgba(0,0,0,0.1);
            cursor: pointer;
            transition: all 0.3s;
            text-align: center;
            position: relative;
            overflow: hidden;
        }

        .category-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255, 105, 180, 0.1), transparent);
            transition: left 0.5s;
        }

        .category-card:hover::before {
            left: 100%;
        }

        .category-card:hover {
            transform: translateY(-10px) scale(1.02);
            box-shadow: 0 15px 35px rgba(255, 105, 180, 0.3);
        }

        .category-icon {
            font-size: 4rem;
            margin-bottom: 1rem;
        }

        .category-card h3 {
            font-size: 1.8rem;
            color: #000;
            margin-bottom: 1rem;
        }

        .category-card p {
            color: #666;
            font-size: 1.1rem;
        }

        .products-section {
            display: none;
            background: white;
            border-radius: 15px;
            padding: 2rem;
            box-shadow: 0 8px 25px rgba(0,0,0,0.1);
        }

        .products-section.active { 
            display: block;
            animation: fadeIn 0.5s ease;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .products-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
            gap: 2rem;
            margin-top: 2rem;
        }

        .product-card {
            border: 2px solid #f0f0f0;
            border-radius: 15px;
            padding: 2rem;
            text-align: center;
            transition: all 0.3s;
            background: white;
        }

        .product-card:hover {
            border-color: #ff69b4;
            transform: translateY(-5px);
            box-shadow: 0 10px 25px rgba(255, 105, 180, 0.2);
        }

        .product-img {
            width: 100%;
            height: 220px;
            background: linear-gradient(135deg, #f8f9fa, #e9ecef);
            border-radius: 12px;
            margin-bottom: 1.5rem;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 5rem;
        }

        .product-card h4 {
            font-size: 1.2rem;
            color: #333;
            margin-bottom: 0.8rem;
        }

        .product-desc {
            color: #666;
            font-size: 0.95rem;
            margin-bottom: 1rem;
            line-height: 1.5;
        }

        .product-price {
            color: #ff69b4;
            font-size: 1.6rem;
            font-weight: bold;
            margin: 1rem 0;
        }

        .quantity-controls {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 1.5rem;
            margin: 1.5rem 0;
        }

        .qty-btn {
            background: #ff69b4;
            color: white;
            border: none;
            width: 40px;
            height: 40px;
            border-radius: 50%;
            cursor: pointer;
            font-size: 1.4rem;
            font-weight: bold;
            transition: all 0.3s;
        }

        .qty-btn:hover { 
            background: #000;
            transform: scale(1.1);
        }

        .qty-display {
            font-size: 1.5rem;
            font-weight: bold;
            color: #ff69b4;
            min-width: 50px;
        }

        .add-btn {
            background: linear-gradient(45deg, #ff69b4, #ffc0cb);
            color: white;
            border: none;
            padding: 1rem;
            border-radius: 25px;
            cursor: pointer;
            font-weight: bold;
            width: 100%;
            font-size: 1rem;
            transition: all 0.3s;
        }

        .add-btn:hover { 
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(255, 105, 180, 0.4);
        }

        .back-btn {
            background: #000;
            color: white;
            border: none;
            padding: 1rem 2rem;
            border-radius: 25px;
            cursor: pointer;
            margin-bottom: 2rem;
            font-weight: bold;
            transition: all 0.3s;
        }

        .back-btn:hover {
            background: #333;
            transform: translateY(-2px);
        }

        .section-title {
            text-align: center;
            color: #ff69b4;
            font-size: 2.5rem;
            margin-bottom: 2rem;
        }

        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0,0,0,0.85);
            z-index: 2000;
            align-items: center;
            justify-content: center;
        }

        .modal.active { display: flex; }

        .modal-content {
            background: white;
            padding: 2.5rem;
            border-radius: 20px;
            max-width: 550px;
            width: 90%;
            max-height: 85vh;
            overflow-y: auto;
            box-shadow: 0 20px 60px rgba(0,0,0,0.3);
        }

        .modal h3 {
            text-align: center;
            color: #ff69b4;
            font-size: 2rem;
            margin-bottom: 1.5rem;
        }

        .total-display {
            background: linear-gradient(135deg, #f8f9fa, #e9ecef);
            padding: 2rem;
            border-radius: 15px;
            text-align: center;
            margin-bottom: 2rem;
            border: 2px solid #ff69b4;
        }

        .total-display h4 {
            color: #ff69b4;
            font-size: 1.2rem;
            margin-bottom: 0.5rem;
        }

        .total-amount {
            font-size: 2.5rem;
            font-weight: bold;
            color: #000;
        }

        .modal input, .modal textarea {
            width: 100%;
            padding: 1.2rem;
            margin: 0.6rem 0;
            border: 2px solid #f0f0f0;
            border-radius: 12px;
            font-size: 1rem;
            transition: border-color 0.3s;
        }

        .modal input:focus, .modal textarea:focus {
            outline: none;
            border-color: #ff69b4;
        }

        .modal-actions {
            display: flex;
            gap: 1rem;
            margin-top: 1.5rem;
        }

        .modal-actions button {
            flex: 1;
            padding: 1.2rem;
            border: none;
            border-radius: 12px;
            cursor: pointer;
            font-weight: bold;
            font-size: 1rem;
            transition: all 0.3s;
        }

        .modal-actions button:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(0,0,0,0.2);
        }

        .whatsapp-float {
            position: fixed;
            bottom: 25px;
            right: 25px;
            background: #25D366;
            color: white;
            width: 65px;
            height: 65px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 32px;
            box-shadow: 0 6px 25px rgba(37, 211, 102, 0.5);
            z-index: 1000;
            text-decoration: none;
            animation: pulse 2s infinite;
        }

        @keyframes pulse {
            0%, 100% { 
                box-shadow: 0 6px 25px rgba(37, 211, 102, 0.5);
                transform: scale(1);
            }
            50% { 
                box-shadow: 0 8px 35px rgba(37, 211, 102, 0.8);
                transform: scale(1.05);
            }
        }

        .whatsapp-float:hover {
            transform: scale(1.1);
        }

        .footer {
            background: linear-gradient(135deg, #000, #2d2d2d);
            color: white;
            text-align: center;
            padding: 2.5rem;
            margin-top: 4rem;
        }

        .footer p {
            margin: 0.5rem 0;
            font-size: 1rem;
        }

        @media (max-width: 768px) {
            .header-content { flex-direction: column; gap: 1rem; }
            .hero h1 { font-size: 2rem; }
            .hero-subtitle { font-size: 1.1rem; }
            .categories { grid-template-columns: 1fr; }
            .modal-actions { flex-direction: column; }
        }
    </style>
</head>
<body>
    <div class="delivery-banner">
        üöö Livraison partout au Maroc üì¶
    </div>

    <header class="header">
        <div class="header-content">
            <div class="logo">
                <div class="logo-text">üéÅ Happy Bulle</div>
            </div>
            <nav class="nav">
                <div class="nav-item" onclick="showHome()">Accueil</div>
                <div class="nav-item" onclick="showAbout()">Qui Sommes Nous</div>
                <div class="nav-item" onclick="showContact()">Contact</div>
            </nav>
            <div class="cart-info">
                Panier: <span id="cart-count">0</span> articles
                <button id="order-btn" class="order-btn" style="display:none;" onclick="showOrderModal()">üìã Commander</button>
            </div>
        </div>
    </header>

    <div class="container">
        <div class="hero" id="home-section">
            <h1>‚ú® Cr√©ez Votre Cadeau Parfait ‚ú®</h1>
            <p class="hero-subtitle">üé® Vous √™tes le designer de votre bonheur !</p>
            <p class="hero-text">
                Composez <strong>VOTRE cadeau unique</strong> en choisissant librement :<br>
                üéà Le ballon qui vous fait r√™ver ‚Ä¢ üéÅ Le cadeau qui touchera le c≈ìur ‚Ä¢ ‚ú® Les accessoires qui subliment
                <br><span style="color: #ff69b4; font-weight: bold;">üöö Livraison dans tout le Maroc !</span>
            </p>
        </div>

        <div class="categories" id="categories-section">
            <div class="category-card" onclick="showProducts('ballons')">
                <div class="category-icon">üéà</div>
                <h3>Ballons</h3>
                <p>Ballons de toutes formes pour vos √©v√©nements sp√©ciaux</p>
            </div>
            <div class="category-card" onclick="showProducts('cadeaux')">
                <div class="category-icon">üéÅ</div>
                <h3>Cadeaux</h3>
                <p>Peluches adorables pour faire plaisir</p>
            </div>
            <div class="category-card" onclick="showProducts('accessoires')">
                <div class="category-icon">‚ú®</div>
                <h3>Accessoires</h3>
                <p>D√©corations pour sublimer vos cr√©ations</p>
            </div>
        </div>

        <div class="products-section" id="ballons-section">
            <button class="back-btn" onclick="showHome()">‚Üê Retour aux cat√©gories</button>
            <h2 class="section-title">üéà Nos Ballons</h2>
            <div class="products-grid" id="ballons-grid"></div>
        </div>

        <div class="products-section" id="cadeaux-section">
            <button class="back-btn" onclick="showHome()">‚Üê Retour aux cat√©gories</button>
            <h2 class="section-title">üéÅ Nos Cadeaux</h2>
            <div class="products-grid" id="cadeaux-grid"></div>
        </div>

        <div class="products-section" id="accessoires-section">
            <button class="back-btn" onclick="showHome()">‚Üê Retour aux cat√©gories</button>
            <h2 class="section-title">‚ú® Nos Accessoires</h2>
            <div class="products-grid" id="accessoires-grid"></div>
        </div>

        <div class="products-section" id="about-section">
            <button class="back-btn" onclick="showHome()">‚Üê Retour √† l'accueil</button>
            <div style="background: linear-gradient(135deg, #ff69b4, #ffc0cb); padding: 4rem 3rem; border-radius: 20px; color: white; text-align: center;">
                <h2 style="font-size: 2.5rem; margin-bottom: 1.5rem;">üåü Qui Sommes-Nous ?</h2>
                <p style="font-size: 1.2rem; line-height: 1.8; max-width: 800px; margin: 0 auto;">
                    Cr√©ateurs de moments magiques √† Casablanca. Nous transformons chaque occasion en souvenir inoubliable 
                    avec nos ballons personnalis√©s, nos adorables peluches et nos accessoires d√©coratifs soigneusement s√©lectionn√©s.
                    Votre bonheur est notre priorit√© !
                </p>
            </div>
        </div>

        <div class="products-section" id="contact-section">
            <button class="back-btn" onclick="showHome()">‚Üê Retour √† l'accueil</button>
            <div style="background: linear-gradient(135deg, #000, #ff69b4); padding: 4rem 3rem; border-radius: 20px; color: white; text-align: center;">
                <h2 style="font-size: 2.5rem; margin-bottom: 2rem;">üìû Contactez-Nous</h2>
                <p style="font-size: 1.3rem; margin: 1.5rem 0;">üìß cadeaux.cadeaux@hotmail.com</p>
                <p style="font-size: 1.3rem; margin: 1.5rem 0;">üì± 0604216223</p>
                <p style="font-size: 1.3rem; margin: 1.5rem 0;">üìç Casablanca, Maroc</p>
            </div>
        </div>
    </div>

    <div class="modal" id="order-modal">
        <div class="modal-content">
            <h3>üõçÔ∏è Finaliser votre commande</h3>
            <div class="total-display">
                <h4>Total √† payer</h4>
                <div class="total-amount"><span id="modal-total">0</span> DHS</div>
            </div>
            <input type="text" id="name" placeholder="Votre nom complet *" required>
            <input type="tel" id="phone" placeholder="Votre num√©ro de t√©l√©phone *" required>
            <input type="email" id="email" placeholder="Votre email (optionnel)">
            <input type="text" id="address" placeholder="Votre adresse de livraison *" required>
            <textarea id="notes" placeholder="Instructions sp√©ciales ou commentaires (optionnel)" rows="4"></textarea>
            <div class="modal-actions">
                <button style="background:#25D366; color:white;" onclick="sendWhatsApp()">üì± WhatsApp</button>
                <button style="background:#ff69b4; color:white;" onclick="sendEmail()">üìß Email</button>
                <button style="background:#666; color:white;" onclick="closeModal()">‚ùå Annuler</button>
            </div>
        </div>
    </div>

    <a href="https://wa.me/33604216223" class="whatsapp-float" target="_blank" title="Contactez-nous sur WhatsApp">üì±</a>

    <footer class="footer">
        <p>&copy; 2024 Happy Bulle - Tous droits r√©serv√©s</p>
        <p>Casablanca, Maroc</p>
    </footer>

    <script>
        const products = {
            ballons: [
                {id: 'ballon-rond', name: 'Ballon Rond', price: 60, emoji: 'üéà', desc: 'Ballon rond classique, parfait pour toutes les occasions'},
                {id: 'ballon-coeur', name: 'Ballon C≈ìur', price: 80, emoji: 'üíñ', desc: 'Ballon en forme de c≈ìur pour exprimer votre amour'},
                {id: 'ballon-boy', name: 'Ballon Boy or Girl', price: 100, emoji: 'üë∂', desc: 'Id√©al pour annoncer une naissance ou un baby shower'}
            ],
            cadeaux: [
                {id: 'ours-hello', name: 'Ours "Hello" avec Salopette', price: 250, img: 'URL_IMAGE_1_ICI', desc: 'Adorable ours marron avec tenue "Hello" et salopette turquoise'},
                {id: 'elephant-love', name: '√âl√©phant "Love"', price: 280, img: 'URL_IMAGE_2_ICI', desc: 'Mignon √©l√©phant avec robe jaune √† carreaux et inscription "Love"'},
                {id: 'elephant-gris', name: '√âl√©phant Gris', price: 300, img: 'URL_IMAGE_3_ICI', desc: 'Grand √©l√©phant doux et c√¢lin, parfait pour les tout-petits'},
                {id: 'chat-orange', name: 'Chat Orange Souriant', price: 180, img: 'URL_IMAGE_4_ICI', desc: 'Chat joyeux au visage expressif et sourire adorable'},
                {id: 'ours-noeud', name: 'Ours Beige avec N≈ìud Dor√©', price: 250, img: 'URL_IMAGE_5_ICI', desc: '√âl√©gant ours avec n≈ìud dor√©, doux et raffin√©'}
            ],
            accessoires: [
                {id: 'plume-rose', name: 'Plume Rose', price: 30, emoji: 'üå∏', desc: 'Plume d√©corative rose pour embellir vos cr√©ations'},
                {id: 'plume-blanche', name: 'Plume Blanche', price: 30, emoji: 'ü§ç', desc: 'Plume d√©corative blanche, √©l√©gante et raffin√©e'},
                {id: 'etoile', name: '√âtoile', price: 40, emoji: '‚≠ê', desc: '√âtoile d√©corative pour ajouter une touche magique'}
            ]
        };

        let cart = [];
        let quantities = {};

        function renderProducts(category) {
            const grid = document.getElementById(category + '-grid');
            grid.innerHTML = products[category].map(p => {
                const imgContent = p.img ? 
                    `<img src="${p.img}" alt="${p.name}" style="width:100%; height:220px; object-fit:cover; border-radius:12px; margin-bottom:1.5rem;">` :
                    `<div class="product-img">${p.emoji}</div>`;
                
                return `
                <div class="product-card">
                    ${imgContent}
                    <h4>${p.name}</h4>
                    <p class="product-desc">${p.desc}</p>
                    <div class="product-price">${p.price} DHS</div>
                    <div class="quantity-controls">
                        <button class="qty-btn" onclick="changeQty('${p.id}', -1)">-</button>
                        <span class="qty-display" id="qty-${p.id}">0</span>
                        <button class="qty-btn" onclick="changeQty('${p.id}', 1)">+</button>
                    </div>
                    <button class="add-btn" onclick="addToCart('${p.id}', '${p.name}', ${p.price})">Ajouter au panier</button>
                </div>
            `}).join('');
        }

        function changeQty(id, change) {
            quantities[id] = Math.max(0, (quantities[id] || 0) + change);
            document.getElementById('qty-' + id).textContent = quantities[id];
        }

        function addToCart(id, name, price) {
            const qty = quantities[id] || 0;
            if (qty === 0) {
                alert('‚ö†Ô∏è Veuillez s√©lectionner une quantit√©');
                return;
            }
            
            for (let i = 0; i < qty; i++) {
                cart.push({name, price});
            }
            
            quantities[id] = 0;
            document.getElementById('qty-' + id).textContent = 0;
            updateCart();
            
            alert(`‚úÖ ${qty} x ${name} ajout√©(s) au panier !`);
        }

        function updateCart() {
            document.getElementById('cart-count').textContent = cart.length;
            document.getElementById('order-btn').style.display = cart.length > 0 ? 'inline-block' : 'none';
        }

        function showProducts(category) {
            document.querySelectorAll('.products-section, .hero, .categories').forEach(el => {
                el.style.display = 'none';
                el.classList.remove('active');
            });
            document.getElementById(category + '-section').classList.add('active');
            renderProducts(category);
        }

        function showHome() {
            document.querySelectorAll('.products-section').forEach(el => {
                el.style.display = 'none';
                el.classList.remove('active');
            });
            document.getElementById('home-section').style.display = 'block';
            document.getElementById('categories-section').style.display = 'grid';
        }

        function showAbout() {
            document.querySelectorAll('.products-section, .hero, .categories').forEach(el => {
                el.style.display = 'none';
                el.classList.remove('active');
            });
            document.getElementById('about-section').classList.add('active');
        }

        function showContact() {
            document.querySelectorAll('.products-section, .hero, .categories').forEach(el => {
                el.style.display = 'none';
                el.classList.remove('active');
            });
            document.getElementById('contact-section').classList.add('active');
        }

        function showOrderModal() {
            if (cart.length === 0) {
                alert('‚ö†Ô∏è Votre panier est vide');
                return;
            }
            const total = cart.reduce((sum, item) => sum + item.price, 0);
            document.getElementById('modal-total').textContent = total;
            document.getElementById('order-modal').classList.add('active');
        }

        function closeModal() {
            document.getElementById('order-modal').classList.remove('active');
        }

        function sendWhatsApp() {
            const name = document.getElementById('name').value;
            const phone = document.getElementById('phone').value;
            const address = document.getElementById('address').value;
            const notes = document.getElementById('notes').value;
            
            if (!name || !phone || !address) {
                alert('‚ö†Ô∏è Veuillez remplir tous les champs obligatoires (*)');
                return;
            }
            
            const total = cart.reduce((sum, item) => sum + item.price, 0);
            const items = cart.reduce((acc, item) => {
                acc[item.name] = (acc[item.name] || 0) + 1;
                return acc;
            }, {});
            
            let msg = `üõçÔ∏è *NOUVELLE COMMANDE*\n\nüë§ *Client:* ${name}\nüì± *T√©l√©phone:* ${phone}\nüìç *Adresse:* ${address}\n\n`;
            msg += `üõí *D√âTAILS DE LA COMMANDE:*\n`;
            for (let [product, qty] of Object.entries(items)) {
                const price = cart.find(i => i.name === product).price;
                msg += `‚Ä¢ ${product} x${qty} = ${price * qty} DHS\n`;
            }
            msg += `\nüí∞ *TOTAL: ${total} DHS*`;
            
            if (notes) {
                msg += `\n\nüìù *Notes:* ${notes}`;
            }
            
            window.open(`https://wa.me/33604216223?text=${encodeURIComponent(msg)}`, '_blank');
            
            cart = [];
            updateCart();
            closeModal();
            alert('‚úÖ Commande envoy√©e sur WhatsApp ! Nous vous contacterons bient√¥t.');
        }

        function sendEmail() {
            const name = document.getElementById('name').value;
            const phone = document.getElementById('phone').value;
            const address = document.getElementById('address').value;
            const email = document.getElementById('email').value;
            const notes = document.getElementById('notes').value;
            
            if (!name || !phone || !address) {
                alert('‚ö†Ô∏è Veuillez remplir tous les champs obligatoires (*)');
                return;
            }
            
            const total = cart.reduce((sum, item) => sum + item.price, 0);
            const items = cart.reduce((acc, item) => {
                acc[item.name] = (acc[item.name] || 0) + 1;
                return acc;
            }, {});
            
            let emailBody = `NOUVELLE COMMANDE\n\nClient: ${name}\nT√©l√©phone: ${phone}\n`;
            if (email) emailBody += `Email: ${email}\n`;
            emailBody += `Adresse: ${address}\n\nD√âTAILS DE LA COMMANDE:\n`;
            
            for (let [product, qty] of Object.entries(items)) {
                const price = cart.find(i => i.name === product).price;
                emailBody += `${product} x${qty} = ${price * qty} DHS\n`;
            }
            emailBody += `\nTOTAL: ${total} DHS`;
            
            if (notes) {
                emailBody += `\n\nNotes: ${notes}`;
            }
            
            window.location.href = `mailto:cadeaux.cadeaux@hotmail.com?subject=Nouvelle Commande - ${name}&body=${encodeURIComponent(emailBody)}`;
            
            cart = [];
            updateCart();
            closeModal();
            alert('‚úÖ Email de commande pr√©par√© ! Envoyez-le pour finaliser.');
        }
    </script>
</body>
</html>
